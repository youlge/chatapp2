(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"ct+p":function(t,n,e){"use strict";e.r(n),e.d(n,"HomePageModule",function(){return O});var c=e("ofXK"),o=e("TEn/"),i=e("3Pt+"),s=e("tyNb"),r=e("mrSG"),a=e("fXoL"),b=e("i4B9");const l=["area"];function h(t,n){if(1&t&&(a.Ob(0,"li"),a.hc(1),a.Nb()),2&t){const t=n.$implicit;a.Bb(1),a.jc(" ",t.content," ")}}function u(t,n){if(1&t&&(a.Ob(0,"ul"),a.gc(1,h,2,1,"li",9),a.Nb()),2&t){const t=a.Yb();a.Bb(1),a.bc("ngForOf",t.room.Messages)}}let g=(()=>{class t{constructor(t,n,e){this.navParams=t,this.modal=n,this.chatService=e}ngOnInit(){this.chat=this.navParams.get("chat"),this.chatService.getChat(this.chat.id).subscribe(t=>{this.room=t})}ngAfterViewChecked(){this.foco.setFocus()}closeChat(){this.modal.dismiss()}sendMessage(){if(""!=this.msg){const t={content:this.msg,type:"text",date:new Date};this.chatService.sendMsgToFireBase(t,this.chat.id),this.msg="",this.foco.setFocus()}}}return t.\u0275fac=function(n){return new(n||t)(a.Lb(o.u),a.Lb(o.t),a.Lb(b.a))},t.\u0275cmp=a.Fb({type:t,selectors:[["app-chat"]],viewQuery:function(t,n){if(1&t&&a.kc(l,1),2&t){let t;a.cc(t=a.Xb())&&(n.foco=t.first)}},decls:14,vars:3,consts:[["color","tertiary"],["slot","end","fill","clear",3,"click"],["name","arrow-back",2,"font-size","25px","color","aliceblue"],["padding",""],[4,"ngIf"],[3,"ngModel","ngModelChange"],["area",""],["color","success",3,"click"],["name","send"],[4,"ngFor","ngForOf"]],template:function(t,n){1&t&&(a.Ob(0,"ion-header"),a.Ob(1,"ion-toolbar",0),a.Ob(2,"ion-button",1),a.Wb("click",function(){return n.closeChat()}),a.Mb(3,"ion-icon",2),a.Nb(),a.Ob(4,"ion-title"),a.hc(5),a.Nb(),a.Nb(),a.Nb(),a.Ob(6,"ion-content",3),a.gc(7,u,2,1,"ul",4),a.Nb(),a.Ob(8,"ion-footer",3),a.Ob(9,"ion-item"),a.Ob(10,"ion-textarea",5,6),a.Wb("ngModelChange",function(t){return n.msg=t}),a.Nb(),a.Ob(12,"ion-button",7),a.Wb("click",function(){return n.sendMessage()}),a.Mb(13,"ion-icon",8),a.Nb(),a.Nb(),a.Nb()),2&t&&(a.Bb(5),a.ic(n.chat.name),a.Bb(2),a.bc("ngIf",n.room),a.Bb(3),a.bc("ngModel",n.msg))},directives:[o.g,o.q,o.d,o.h,o.p,o.e,c.i,o.f,o.k,o.o,o.v,i.d,i.e,c.h],styles:[".ion-content[_ngcontent-%COMP%]{--background:#daele4}"]}),t})();var f=e("fk+l");function d(t,n){if(1&t){const t=a.Pb();a.Ob(0,"ion-item",6),a.Wb("click",function(){a.dc(t);const e=n.$implicit;return a.Yb().openChat(e)}),a.Ob(1,"ion-avatar",7),a.Mb(2,"ion-img",8),a.Nb(),a.Ob(3,"ion-label"),a.Ob(4,"h2"),a.Ob(5,"b"),a.hc(6),a.Nb(),a.Nb(),a.Ob(7,"h3"),a.hc(8),a.Nb(),a.Ob(9,"p"),a.hc(10,"Accede dando click y escribe un mensaje"),a.Nb(),a.Nb(),a.Nb()}if(2&t){const t=n.$implicit;a.Bb(2),a.bc("src",t.img),a.Bb(4),a.jc(" ",t.name," "),a.Bb(2),a.jc(" ",t.description," ")}}const m=[{path:"",component:(()=>{class t{constructor(t,n,e,c){this.outService=t,this.modal=n,this.chatService=e,this.actionSheetController=c,this.chats=[]}openChat(t){this.modal.create({component:g,componentProps:{chat:t}}).then(t=>t.present())}logOut(){this.outService.logOut()}ngOnInit(){this.chatService.getChatRooms().subscribe(t=>{this.chats=t})}presentActionSheet(){return Object(r.b)(this,void 0,void 0,function*(){const t=yield this.actionSheetController.create({header:"Opciones",cssClass:"my-custom-class",buttons:[{text:"Cerrar Sesi\xf3n",role:"destructive",icon:"log-out",handler:()=>{this.logOut()}}]});yield t.present()})}}return t.\u0275fac=function(n){return new(n||t)(a.Lb(f.a),a.Lb(o.t),a.Lb(b.a),a.Lb(o.a))},t.\u0275cmp=a.Fb({type:t,selectors:[["app-home"]],decls:11,vars:3,consts:[[3,"translucent"],["color","primary"],["fill","clear","slot","end",3,"click"],["name","menu",2,"color","aliceblue","font-size","25px"],[3,"fullscreen"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["slot","start"],[3,"src"]],template:function(t,n){1&t&&(a.Ob(0,"ion-header",0),a.Ob(1,"ion-toolbar",1),a.Ob(2,"ion-button",2),a.Wb("click",function(){return n.presentActionSheet()}),a.Mb(3,"ion-icon",3),a.Nb(),a.Ob(4,"ion-title"),a.hc(5," Sala de chat "),a.Nb(),a.Nb(),a.Nb(),a.Ob(6,"ion-content",4),a.Ob(7,"ion-list"),a.gc(8,d,11,3,"ion-item",5),a.Nb(),a.Ob(9,"ion-button",6),a.Wb("click",function(){return n.logOut()}),a.hc(10," Salir "),a.Nb(),a.Nb()),2&t&&(a.bc("translucent",!0),a.Bb(6),a.bc("fullscreen",!0),a.Bb(2),a.bc("ngForOf",n.chats))},directives:[o.g,o.q,o.d,o.h,o.p,o.e,o.m,c.h,o.k,o.c,o.i,o.l],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}"]}),t})()}];let p=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=a.Jb({type:t}),t.\u0275inj=a.Ib({imports:[[s.i.forChild(m)],s.i]}),t})(),O=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=a.Jb({type:t}),t.\u0275inj=a.Ib({imports:[[c.b,i.a,o.r,p]]}),t})()}}]);